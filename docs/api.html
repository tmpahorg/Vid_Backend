
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Swagger UI</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro:300,600|Titillium+Web:400,600,700" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.24.2/swagger-ui.css" rel="stylesheet">
    <style>
    html {
        box-sizing: border-box;
        overflow: -moz-scrollbars-vertical;
        overflow-y: scroll;
    }
    *, *:before, *:after {
        box-sizing: inherit;
    }
    body {
        margin:0;
        background: #fafafa;
    }
    div#swagger-ui .markdown pre code.language-json, /* markdown json block */
    div#swagger-ui div.highlight-code pre.microlight, /* swagger example */
    div#swagger-ui span.model, /* example model */
    div#swagger-ui table.model, /* example model */
    div#swagger-ui table.headers td.header-col { /* header */
        font-family: consolas;
        font-weight: 600;
        font-size: 14px;
        font-style: italic;
    }
    div#swagger-ui div.highlight-code pre.microlight { /* swagger example value */
        background: rgba(0, 0, 0, 0.05);
    }
    div#swagger-ui div.highlight-code pre.microlight span { /* swagger example value */
        color: #9012fe!important;
    }
    div#swagger-ui div.model-box { /* swagger example json display */
        display: block;
    }
    div#swagger-ui textarea {
        font-family: consolas;
        font-size: 14px;
    }
    </style>
</head>
<body>
    <div id="swagger-ui"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.20.0/swagger-ui-bundle.js"> </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.20.0/swagger-ui-standalone-preset.js"> </script>
    <script>
    window.onload = function() {
        var spec = {"swagger": "2.0", "host": "127.0.0.1:3344", "basePath": "/", "tags": [{"name": "Ping", "description": "Ping"}, {"name": "Authorization", "description": "Auth-Controller"}, {"name": "User", "description": "User-Controller"}, {"name": "Subscribe", "description": "Sub-Controller"}, {"name": "Video", "description": "Video-Controller"}, {"name": "Raw", "description": "Raw-Controller"}, {"name": "Administration", "description": "*-Controller"}, {"name": "Search", "description": "*-Controller"}], "info": {"title": "vid backend", "description": "Backend of repo https://github.com/vidorg/vid_vue", "version": "1.1", "termsOfService": "https://github.com/vidorg/vid_backend/issues", "license": {"name": "MIT", "url": "https://github.com/vidorg/vid_backend/blob/master/LICENSE"}, "contact": {"name": "vidorg", "url": "https://github.com/vidorg"}}, "securityDefinitions": {"Jwt": {"type": "apiKey", "name": "Authorization", "in": "header"}}, "paths": {"/v1/auth/login": {"post": {"operationId": "v1-auth-login-post", "summary": "\u767b\u5f55", "tags": ["Authorization"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "param", "in": "body", "required": true, "description": "\u8bf7\u6c42\u53c2\u6570", "schema": {"$ref": "#/definitions/LoginParam"}}], "security": [], "responses": {"400": {"description": "\"request param error\""}, "401": {"description": "\"password error\""}, "404": {"description": "\"user not found\""}, "500": {"description": "\"login failed\""}, "200": {"schema": {"$ref": "#/definitions/Result<LoginDto>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"user\": {\n      \"uid\": 1,\n      \"username\": \"admin\",\n      \"sex\": \"male\",\n      \"profile\": \"Demo admin profile\",\n      \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n      \"birth_time\": \"2020-01-10\",\n      \"authority\": \"admin\",\n      \"phone_number\": \"13512345678\",\n      \"register_time\": \"2020-01-10 00:30:49\"\n    },\n    \"token\": \"Bearer xxx\",\n    \"expire\": 604800\n  }\n}"}}}}}, "/v1/auth/register": {"post": {"operationId": "v1-auth-register-post", "summary": "\u6ce8\u518c", "tags": ["Authorization"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "param", "in": "body", "required": true, "description": "\u8bf7\u6c42\u53c2\u6570", "schema": {"$ref": "#/definitions/RegisterParam"}}], "security": [], "responses": {"400": {"description": "\"request param error\", \"request format error\", \"username has been used\""}, "500": {"description": "\"register failed\""}, "201": {"schema": {"$ref": "#/definitions/Result<UserDto>"}}}}}, "/v1/auth": {"get": {"operationId": "v1-auth-get", "summary": "\u5f53\u524d\u767b\u5f55\u7528\u6237", "tags": ["Authorization"], "consumes": ["application/json"], "produces": ["application/json"], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\""}, "200": {"schema": {"$ref": "#/definitions/Result<UserDto>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"uid\": 1,\n    \"username\": \"admin\",\n    \"sex\": \"male\",\n    \"profile\": \"Demo admin profile\",\n    \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n    \"birth_time\": \"2020-01-10\",\n    \"authority\": \"admin\",\n    \"phone_number\": \"13512345678\",\n    \"register_time\": \"2020-01-10 00:30:49\"\n  }\n}"}}}}}, "/v1/auth/logout": {"post": {"operationId": "v1-auth-logout-post", "summary": "\u6ce8\u9500", "tags": ["Authorization"], "consumes": ["application/json"], "produces": ["application/json"], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\""}, "500": {"description": "\"logout failed\""}, "200": {"schema": {"$ref": "#/definitions/Result"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\"\n}"}}}}}, "/v1/auth/password": {"put": {"operationId": "v1-auth-password-put", "summary": "\u4fee\u6539\u5bc6\u7801", "tags": ["Authorization"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "param", "in": "body", "required": true, "description": "\u8bf7\u6c42\u53c2\u6570", "schema": {"$ref": "#/definitions/PassParam"}}], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\""}, "400": {"description": "\"request param error\", \"request format error\""}, "404": {"description": "\"user not found\""}, "500": {"description": "\"update password failed\""}, "200": {"schema": {"$ref": "#/definitions/Result"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\"\n}"}}}}}, "/v1/raw/image": {"post": {"operationId": "v1-raw-image-post", "summary": "\u4e0a\u4f20\u56fe\u7247", "tags": ["Raw"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "image", "in": "formData", "type": "file", "required": true, "description": "\u4e0a\u4f20\u7684\u56fe\u7247\uff0c\u5927\u5c0f\u9650\u5236\u57282M\uff0c\u5141\u8bb8\u540e\u7f00\u540d\u4e3a {.jpg, .jpeg, .png, .bmp, .gif}"}], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\""}, "400": {"description": "\"request param error\", \"image type not supported\""}, "413": {"description": "\"request body too large\""}, "500": {"description": "\"image save failed\""}, "200": {"schema": {"$ref": "#/definitions/Result<ImageDto>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"url\": \"http://localhost:3344/v1/raw/image/20200110130323908439.jpg\",\n    \"size\": 381952\n  }\n}"}}}}}, "/v1/raw/image/{filename}": {"get": {"operationId": "v1-raw-image-filename-get", "summary": "\u83b7\u53d6\u56fe\u7247", "tags": ["Raw"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "filename", "in": "path", "type": "string", "required": true, "description": "\u56fe\u7247\u6587\u4ef6\u540d"}], "security": [], "responses": {"404": {"description": "\"image not found\""}, "200": {"headers": {"Content-Type": {"type": "string", "description": "image/jpeg"}}}}}}, "/v1/search/user": {"get": {"operationId": "v1-search-user-get", "summary": "\u641c\u7d22\u7528\u6237", "tags": ["Search"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "page", "in": "query", "type": "integer", "required": false, "description": "\u5f53\u524d\u9875", "default": 1}, {"name": "key", "in": "query", "type": "string", "required": true, "description": "\u641c\u7d22\u5173\u952e\u8bcd"}], "security": [], "responses": {"400": {"description": "\"request param error\""}, "200": {"schema": {"$ref": "#/definitions/Result<Page<UserDto>>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"count\": 1,\n    \"page\": 1,\n    \"data\": [\n      {\n        \"uid\": 1,\n        \"username\": \"admin\",\n        \"sex\": \"male\",\n        \"profile\": \"Demo admin profile\",\n        \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n        \"birth_time\": \"2020-01-10\",\n        \"authority\": \"admin\",\n        \"phone_number\": \"13512345678\",\n        \"register_time\": \"2020-01-10 00:30:49\"\n      }\n    ]\n  }\n}"}}}}}, "/v1/search/video": {"get": {"operationId": "v1-search-video-get", "summary": "\u641c\u7d22\u89c6\u9891", "tags": ["Search"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "page", "in": "query", "type": "integer", "required": false, "description": "\u5f53\u524d\u9875", "default": 1}, {"name": "key", "in": "query", "type": "string", "required": true, "description": "\u641c\u7d22\u5173\u952e\u8bcd"}], "security": [], "responses": {"400": {"description": "\"request param error\""}, "200": {"schema": {"$ref": "#/definitions/Result<Page<VideoDto>>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"count\": 1,\n    \"page\": 1,\n    \"data\": [\n      {\n        \"vid\": 1,\n        \"title\": \"The First Video\",\n        \"description\": \"This is the first video uploaded\",\n        \"video_url\": \"123\",\n        \"cover_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n        \"upload_time\": \"2020-01-10 00:55:36\",\n        \"update_time\": \"2020-01-10 14:31:00\",\n        \"author\": {\n          \"uid\": 1,\n          \"username\": \"admin\",\n          \"sex\": \"male\",\n          \"profile\": \"Demo admin profile\",\n          \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n          \"birth_time\": \"2020-01-10\",\n          \"authority\": \"admin\",\n          \"phone_number\": \"13512345678\",\n          \"register_time\": \"2020-01-10 00:30:49\"\n        }\n      }\n    ]\n  }\n}"}}}}}, "/v1/user/{uid}/subscriber": {"get": {"operationId": "v1-user-uid-subscriber-get", "summary": "\u67e5\u8be2\u7528\u6237\u7c89\u4e1d", "tags": ["Subscribe"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "page", "in": "query", "type": "integer", "required": false, "description": "\u5f53\u524d\u9875", "default": 1}, {"name": "order", "in": "query", "type": "string", "required": false, "description": "\u6392\u5e8f\u5b57\u7b26\u4e32"}, {"name": "uid", "in": "path", "type": "integer", "required": true, "description": "\u7528\u6237id"}], "security": [], "responses": {"400": {"description": "\"request param error\""}, "404": {"description": "\"user not found\""}, "200": {"schema": {"$ref": "#/definitions/Result<Page<UserDto>>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"count\": 1,\n    \"page\": 1,\n    \"data\": [\n      {\n        \"uid\": 1,\n        \"username\": \"admin\",\n        \"sex\": \"male\",\n        \"profile\": \"Demo admin profile\",\n        \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n        \"birth_time\": \"2020-01-10\",\n        \"authority\": \"admin\",\n        \"phone_number\": \"13512345678\",\n        \"register_time\": \"2020-01-10 00:30:49\"\n      }\n    ]\n  }\n}"}}}}}, "/v1/user/{uid}/subscribing": {"get": {"operationId": "v1-user-uid-subscribing-get", "summary": "\u67e5\u8be2\u7528\u6237\u5173\u6ce8", "tags": ["Subscribe"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "page", "in": "query", "type": "integer", "required": false, "description": "\u5f53\u524d\u9875", "default": 1}, {"name": "order", "in": "query", "type": "string", "required": false, "description": "\u6392\u5e8f\u5b57\u7b26\u4e32"}, {"name": "uid", "in": "path", "type": "integer", "required": true, "description": "\u7528\u6237id"}], "security": [], "responses": {"400": {"description": "\"request param error\""}, "404": {"description": "\"user not found\""}, "200": {"schema": {"$ref": "#/definitions/Result<Page<UserDto>>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"count\": 1,\n    \"page\": 1,\n    \"data\": [\n      {\n        \"uid\": 1,\n        \"username\": \"admin\",\n        \"sex\": \"male\",\n        \"profile\": \"Demo admin profile\",\n        \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n        \"birth_time\": \"2020-01-10\",\n        \"authority\": \"admin\",\n        \"phone_number\": \"13512345678\",\n        \"register_time\": \"2020-01-10 00:30:49\"\n      }\n    ]\n  }\n}"}}}}}, "/v1/user/subscribing": {"put": {"operationId": "v1-user-subscribing-put", "summary": "\u5173\u6ce8\u7528\u6237", "tags": ["Subscribe"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "param", "in": "body", "required": true, "description": "\u8bf7\u6c42\u53c2\u6570", "schema": {"$ref": "#/definitions/SubParam"}}], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\""}, "400": {"description": "\"request param error\", \"request format error\", \"subscribe oneself invalid\""}, "404": {"description": "\"user not found\""}, "500": {"description": "\"subscribe failed\""}, "200": {"schema": {"$ref": "#/definitions/Result"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\"\n}"}}}}, "delete": {"operationId": "v1-user-subscribing-delete", "summary": "\u53d6\u6d88\u5173\u6ce8\u7528\u6237", "tags": ["Subscribe"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "param", "in": "body", "required": true, "description": "\u8bf7\u6c42\u53c2\u6570", "schema": {"$ref": "#/definitions/SubParam"}}], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\""}, "400": {"description": "\"request param error\", \"request format error\""}, "404": {"description": "\"user not found\""}, "500": {"description": "\"unsubscribe failed\""}, "200": {"schema": {"$ref": "#/definitions/Result"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\"\n}"}}}}}, "/v1/user": {"get": {"operationId": "v1-user-get", "summary": "\u67e5\u8be2\u6240\u6709\u7528\u6237", "description": "\u7ba1\u7406\u5458\u6743\u9650\uff0c\u6b64\u5904\u53ef\u89c1\u7528\u6237\u624b\u673a\u53f7\u7801", "tags": ["User", "Administration"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "page", "in": "query", "type": "integer", "required": false, "description": "\u5f53\u524d\u9875", "default": 1}, {"name": "order", "in": "query", "type": "string", "required": false, "description": "\u6392\u5e8f\u5b57\u7b26\u4e32"}], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\", \"need admin authority\""}, "200": {"schema": {"$ref": "#/definitions/Result<Page<UserDto>>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"count\": 1,\n    \"page\": 1,\n    \"data\": [\n      {\n        \"uid\": 1,\n        \"username\": \"admin\",\n        \"sex\": \"male\",\n        \"profile\": \"Demo admin profile\",\n        \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n        \"birth_time\": \"2020-01-10\",\n        \"authority\": \"admin\",\n        \"phone_number\": \"13512345678\",\n        \"register_time\": \"2020-01-10 00:30:49\"\n      }\n    ]\n  }\n}"}}}}, "put": {"operationId": "v1-user-put", "summary": "\u66f4\u65b0\u7528\u6237", "tags": ["User"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "param", "in": "body", "required": true, "description": "\u8bf7\u6c42\u53c2\u6570", "schema": {"$ref": "#/definitions/UserParam"}}], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\""}, "400": {"description": "\"request param error\", \"request format error\", \"username has been used\""}, "404": {"description": "\"user not found\""}, "500": {"description": "\"user update failed\""}, "200": {"schema": {"$ref": "#/definitions/Result<UserDto>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"uid\": 1,\n    \"username\": \"admin\",\n    \"sex\": \"male\",\n    \"profile\": \"Demo admin profile\",\n    \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n    \"birth_time\": \"2020-01-10\",\n    \"authority\": \"admin\",\n    \"phone_number\": \"13512345678\",\n    \"register_time\": \"2020-01-10 00:30:49\"\n  }\n}"}}}}, "delete": {"operationId": "v1-user-delete", "summary": "\u5220\u9664\u7528\u6237", "tags": ["User"], "consumes": ["application/json"], "produces": ["application/json"], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\""}, "404": {"description": "\"user not found\""}, "500": {"description": "\"user delete failed\""}, "200": {"schema": {"$ref": "#/definitions/Result"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\"\n}"}}}}}, "/v1/user/{uid}": {"get": {"operationId": "v1-user-uid-get", "summary": "\u67e5\u8be2\u7528\u6237", "description": "\u6b64\u5904\u7528\u6237\u672c\u4eba\u53ef\u89c1\u624b\u673a\u53f7\u7801\uff0c\u7ba1\u7406\u5458\u4e0d\u53d7\u9650\u5236", "tags": ["User"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "uid", "in": "path", "type": "integer", "required": true, "description": "\u7528\u6237id"}], "security": [], "responses": {"400": {"description": "\"request param error\""}, "404": {"description": "\"user not found\""}, "200": {"schema": {"$ref": "#/definitions/Result<UserExtraDto>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"user\": {\n      \"uid\": 1,\n      \"username\": \"admin\",\n      \"sex\": \"male\",\n      \"profile\": \"Demo admin profile\",\n      \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n      \"birth_time\": \"2020-01-10\",\n      \"authority\": \"admin\",\n      \"phone_number\": \"13512345678\",\n      \"register_time\": \"2020-01-10 00:30:49\"\n    },\n    \"extra\": {\n      \"subscribing_cnt\": 3,\n      \"subscriber_cnt\": 2,\n      \"video_cnt\": 3\n    }\n  }\n}"}}}}}, "/v1/user/admin/{uid}": {"put": {"operationId": "v1-user-admin-uid-put", "summary": "\u66f4\u65b0\u7528\u6237", "description": "\u7ba1\u7406\u5458\u6743\u9650", "tags": ["User", "Administration"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "uid", "in": "path", "type": "integer", "required": true, "description": "\u7528\u6237id"}, {"name": "param", "in": "body", "required": true, "description": "\u8bf7\u6c42\u53c2\u6570", "schema": {"$ref": "#/definitions/UserParam"}}], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\", \"need admin authority\""}, "400": {"description": "\"request param error\", \"request format error\", \"username has been used\""}, "404": {"description": "\"user not found\""}, "500": {"description": "\"user update failed\""}, "200": {"schema": {"$ref": "#/definitions/Result<UserDto>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"uid\": 1,\n    \"username\": \"admin\",\n    \"sex\": \"male\",\n    \"profile\": \"Demo admin profile\",\n    \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n    \"birth_time\": \"2020-01-10\",\n    \"authority\": \"admin\",\n    \"phone_number\": \"13512345678\",\n    \"register_time\": \"2020-01-10 00:30:49\"\n  }\n}"}}}}, "delete": {"operationId": "v1-user-admin-uid-delete", "summary": "\u5220\u9664\u7528\u6237", "description": "\u7ba1\u7406\u5458\u6743\u9650", "tags": ["User", "Administration"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "uid", "in": "path", "type": "integer", "required": true, "description": "\u7528\u6237id"}], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\", \"need admin authority\""}, "400": {"description": "\"request param error\""}, "404": {"description": "\"user not found\""}, "500": {"description": "\"user delete failed\""}, "200": {"schema": {"$ref": "#/definitions/Result"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\"\n}"}}}}}, "/v1/video": {"get": {"operationId": "v1-video-get", "summary": "\u67e5\u8be2\u6240\u6709\u89c6\u9891", "description": "\u7ba1\u7406\u5458\u6743\u9650", "tags": ["Video", "Administration"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "page", "in": "query", "type": "integer", "required": false, "description": "\u5f53\u524d\u9875", "default": 1}, {"name": "order", "in": "query", "type": "string", "required": false, "description": "\u6392\u5e8f\u5b57\u7b26\u4e32"}], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\", \"need admin authority\""}, "200": {"schema": {"$ref": "#/definitions/Result<Page<VideoDto>>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"count\": 1,\n    \"page\": 1,\n    \"data\": [\n      {\n        \"vid\": 1,\n        \"title\": \"The First Video\",\n        \"description\": \"This is the first video uploaded\",\n        \"video_url\": \"123\",\n        \"cover_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n        \"upload_time\": \"2020-01-10 00:55:36\",\n        \"update_time\": \"2020-01-10 14:31:00\",\n        \"author\": {\n          \"uid\": 1,\n          \"username\": \"admin\",\n          \"sex\": \"male\",\n          \"profile\": \"Demo admin profile\",\n          \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n          \"birth_time\": \"2020-01-10\",\n          \"authority\": \"admin\",\n          \"phone_number\": \"13512345678\",\n          \"register_time\": \"2020-01-10 00:30:49\"\n        }\n      }\n    ]\n  }\n}"}}}}, "post": {"operationId": "v1-video-post", "summary": "\u65b0\u5efa\u89c6\u9891", "tags": ["Video"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "param", "in": "body", "required": true, "description": "\u8bf7\u6c42\u53c2\u6570", "schema": {"$ref": "#/definitions/VideoParam"}}], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\""}, "400": {"description": "\"request param error\", \"request format error\", \"video url has been used\""}, "500": {"description": "\"video insert failed\""}, "201": {"schema": {"$ref": "#/definitions/Result<VideoDto>"}}}}}, "/v1/user/{uid}/video": {"get": {"operationId": "v1-user-uid-video-get", "summary": "\u67e5\u8be2\u7528\u6237\u53d1\u5e03\u7684\u6240\u6709\u89c6\u9891", "tags": ["Video"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "page", "in": "query", "type": "integer", "required": false, "description": "\u5f53\u524d\u9875", "default": 1}, {"name": "order", "in": "query", "type": "string", "required": false, "description": "\u6392\u5e8f\u5b57\u7b26\u4e32"}, {"name": "uid", "in": "path", "type": "integer", "required": true, "description": "\u7528\u6237id"}], "security": [], "responses": {"400": {"description": "\"request param error\""}, "404": {"description": "\"user not found\""}, "200": {"schema": {"$ref": "#/definitions/Result<Page<VideoDto>>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"count\": 1,\n    \"page\": 1,\n    \"data\": [\n      {\n        \"vid\": 1,\n        \"title\": \"The First Video\",\n        \"description\": \"This is the first video uploaded\",\n        \"video_url\": \"123\",\n        \"cover_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n        \"upload_time\": \"2020-01-10 00:55:36\",\n        \"update_time\": \"2020-01-10 14:31:00\",\n        \"author\": {\n          \"uid\": 1,\n          \"username\": \"admin\",\n          \"sex\": \"male\",\n          \"profile\": \"Demo admin profile\",\n          \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n          \"birth_time\": \"2020-01-10\",\n          \"authority\": \"admin\",\n          \"phone_number\": \"13512345678\",\n          \"register_time\": \"2020-01-10 00:30:49\"\n        }\n      }\n    ]\n  }\n}"}}}}}, "/v1/video/{vid}": {"get": {"operationId": "v1-video-vid-get", "summary": "\u67e5\u8be2\u89c6\u9891", "description": "\u4f5c\u8005\u4e3a null \u8868\u793a\u7528\u6237\u5df2\u5220\u9664", "tags": ["Video"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "vid", "in": "path", "type": "integer", "required": true, "description": "\u89c6\u9891id"}], "security": [], "responses": {"400": {"description": "\"request param error\""}, "404": {"description": "\"video not found\""}, "200": {"schema": {"$ref": "#/definitions/Result<VideoDto>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"vid\": 1,\n    \"title\": \"The First Video\",\n    \"description\": \"This is the first video uploaded\",\n    \"video_url\": \"123\",\n    \"cover_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n    \"upload_time\": \"2020-01-10 00:55:36\",\n    \"update_time\": \"2020-01-10 14:31:00\",\n    \"author\": {\n      \"uid\": 1,\n      \"username\": \"admin\",\n      \"sex\": \"male\",\n      \"profile\": \"Demo admin profile\",\n      \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n      \"birth_time\": \"2020-01-10\",\n      \"authority\": \"admin\",\n      \"phone_number\": \"13512345678\",\n      \"register_time\": \"2020-01-10 00:30:49\"\n    }\n  }\n}"}}}}, "post": {"operationId": "v1-video-vid-post", "summary": "\u66f4\u65b0\u89c6\u9891", "description": "\u7ba1\u7406\u5458\u6216\u8005\u4f5c\u8005\u672c\u4eba\u6743\u9650", "tags": ["Video", "Administration"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "vid", "in": "path", "type": "string", "required": true, "description": "\u89c6\u9891id"}, {"name": "param", "in": "body", "required": true, "description": "\u8bf7\u6c42\u53c2\u6570", "schema": {"$ref": "#/definitions/VideoParam"}}], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\""}, "400": {"description": "\"request param error\", \"request format error\", \"video url has been used\""}, "404": {"description": "\"video not found\""}, "500": {"description": "\"video update failed\""}, "200": {"schema": {"$ref": "#/definitions/Result<VideoDto>"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {\n    \"vid\": 1,\n    \"title\": \"The First Video\",\n    \"description\": \"This is the first video uploaded\",\n    \"video_url\": \"123\",\n    \"cover_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n    \"upload_time\": \"2020-01-10 00:55:36\",\n    \"update_time\": \"2020-01-10 14:31:00\",\n    \"author\": {\n      \"uid\": 1,\n      \"username\": \"admin\",\n      \"sex\": \"male\",\n      \"profile\": \"Demo admin profile\",\n      \"avatar_url\": \"http://localhost:3344/v1/raw/image/avatar.jpg\",\n      \"birth_time\": \"2020-01-10\",\n      \"authority\": \"admin\",\n      \"phone_number\": \"13512345678\",\n      \"register_time\": \"2020-01-10 00:30:49\"\n    }\n  }\n}"}}}}, "delete": {"operationId": "v1-video-vid-delete", "summary": "\u5220\u9664\u89c6\u9891", "description": "\u7ba1\u7406\u5458\u6216\u8005\u4f5c\u8005\u672c\u4eba\u6743\u9650", "tags": ["Video", "Administration"], "consumes": ["application/json"], "produces": ["application/json"], "parameters": [{"name": "vid", "in": "path", "type": "string", "required": true, "description": "\u89c6\u9891id"}], "security": [{"Jwt": []}], "responses": {"401": {"description": "\"unauthorized user\", \"token has expired\", \"authorized user not found\""}, "400": {"description": "\"request param error\""}, "404": {"description": "\"video not found\""}, "500": {"description": "\"video delete failed\""}, "200": {"schema": {"$ref": "#/definitions/Result"}, "examples": {"application/json": "{\n  \"code\": 200,\n  \"message\": \"success\"\n}"}}}}}, "/ping": {"get": {"operationId": "ping-get", "summary": "Ping", "tags": ["Ping"], "consumes": ["application/json"], "produces": ["application/json"], "security": [], "responses": {"200": {"description": "\"OK\"", "headers": {"Content-Type": {"type": "string", "description": "application/json; charset=utf-8"}}, "schema": {"$ref": "#/definitions/Ping"}, "examples": {"application/json": "{\n  \"ping\": \"pong\"\n}"}}}}}}, "definitions": {"Result": {"title": "Result", "description": "\u8fd4\u56de\u7edf\u4e00\u54cd\u5e94\u7ed3\u679c", "type": "object", "required": ["code", "message"], "properties": {"code": {"description": "\u54cd\u5e94\u7801", "type": "integer"}, "message": {"description": "\u72b6\u6001\u4fe1\u606f", "type": "string"}}}, "_LoginDto": {"title": "_LoginDto", "description": "\u767b\u5f55\u4fe1\u606f", "type": "object", "required": ["user", "token", "expire"], "properties": {"user": {"description": "\u7528\u6237\u4fe1\u606f", "type": "object", "$ref": "#/definitions/_UserDto"}, "token": {"description": "\u767b\u5f55\u4ee4\u724c", "type": "string"}, "expire": {"description": "\u767b\u5f55\u6709\u6548\u671f\uff0c\u5355\u4f4d\u4e3a\u79d2", "type": "integer"}}}, "_UserDto": {"title": "_UserDto", "description": "\u7528\u6237\u4fe1\u606f", "type": "object", "required": ["uid", "username", "sex", "profile", "avatar_url", "birth_time", "authority", "phone_number", "register_time"], "properties": {"uid": {"description": "\u7528\u6237id", "type": "integer"}, "username": {"description": "\u7528\u6237\u540d", "type": "string"}, "sex": {"description": "\u7528\u6237\u6027\u522b", "type": "string", "enum": ["male", "female", "unknown"]}, "profile": {"description": "\u7528\u6237\u7b80\u4ecb", "type": "string"}, "avatar_url": {"description": "\u7528\u6237\u5934\u50cf", "type": "string"}, "birth_time": {"description": "\u7528\u6237\u751f\u65e5", "type": "string", "format": "2000-01-01"}, "authority": {"description": "\u7528\u6237\u6743\u9650", "type": "string", "enum": ["normal", "admin"]}, "phone_number": {"description": "\u7528\u6237\u624b\u673a\u53f7\u7801\uff0c\u90e8\u5206\u63a5\u53e3\u53ef\u89c1", "type": "string"}, "register_time": {"description": "\u7528\u6237\u6ce8\u518c\u65f6\u95f4", "type": "string", "format": "2000-01-01 00:00:00"}}}, "_UserAndExtraDto": {"title": "_UserAndExtraDto", "description": "\u7528\u6237\u4e0e\u6570\u91cf\u4fe1\u606f", "type": "object", "required": ["user", "extra"], "properties": {"user": {"description": "\u7528\u6237\u4fe1\u606f", "type": "object", "$ref": "#/definitions/_UserDto"}, "extra": {"description": "\u7528\u6237\u989d\u5916\u4fe1\u606f", "type": "object", "$ref": "#/definitions/_UserExtraDto"}}}, "_UserExtraDto": {"title": "_UserExtraDto", "description": "\u7528\u6237\u989d\u5916\u4fe1\u606f", "type": "object", "required": ["subscribing_cnt", "subscriber_cnt", "video_cnt"], "properties": {"subscribing_cnt": {"description": "\u7528\u6237\u5173\u6ce8\u6570\u91cf", "type": "integer"}, "subscriber_cnt": {"description": "\u7528\u6237\u7c89\u4e1d\u6570\u91cf", "type": "integer"}, "video_cnt": {"description": "\u7528\u6237\u89c6\u9891\u6570\u91cf", "type": "integer"}}}, "_VideoDto": {"title": "_VideoDto", "description": "\u89c6\u9891\u4fe1\u606f", "type": "object", "required": ["vid", "title", "description", "video_url", "cover_url", "upload_time", "update_time", "author"], "properties": {"vid": {"description": "\u89c6\u9891id", "type": "integer"}, "title": {"description": "\u89c6\u9891\u6807\u9898", "type": "string"}, "description": {"description": "\u6807\u9898\u7b80\u4ecb", "type": "string"}, "video_url": {"description": "\u89c6\u9891\u8d44\u6e90\u94fe\u63a5", "type": "string"}, "cover_url": {"description": "\u89c6\u9891\u5c01\u9762\u8fde\u63a5", "type": "string"}, "upload_time": {"description": "\u89c6\u9891\u4e0a\u4f20\u65f6\u95f4", "type": "string", "format": "2000-01-01 00:00:00"}, "update_time": {"description": "\u89c6\u9891\u4fee\u6539\u65f6\u95f4", "type": "string", "format": "2000-01-01 00:00:00"}, "author": {"description": "\u89c6\u9891\u4f5c\u8005\uff0c\u7528\u6237id\u4e3a-1\u8868\u793a\u7528\u6237\u5df2\u5220\u9664", "type": "object", "$ref": "#/definitions/_UserDto"}}}, "_ImageDto": {"title": "_ImageDto", "description": "\u4e0a\u4f20\u56fe\u7247\u4fe1\u606f", "type": "object", "required": ["url", "size"], "properties": {"url": {"description": "\u56fe\u7247\u94fe\u63a5", "type": "string"}, "size": {"description": "\u56fe\u7247\u5927\u5c0f\uff0c\u5355\u4f4d\u4e3a\u5b57\u8282", "type": "integer"}}}, "Result<UserDto>": {"title": "Result<UserDto>", "description": "\u8fd4\u56de\u7528\u6237\u4fe1\u606f", "type": "object", "required": ["code", "message", "data"], "properties": {"code": {"description": "\u8fd4\u56de\u54cd\u5e94\u7801", "type": "integer"}, "message": {"description": "\u8fd4\u56de\u4fe1\u606f", "type": "string"}, "data": {"description": "\u8fd4\u56de\u6570\u636e", "type": "object", "$ref": "#/definitions/_UserDto"}}}, "Result<LoginDto>": {"title": "Result<LoginDto>", "description": "\u767b\u5f55\u4fe1\u606f", "type": "object", "required": ["code", "message", "data"], "properties": {"code": {"description": "\u8fd4\u56de\u54cd\u5e94\u7801", "type": "integer"}, "message": {"description": "\u8fd4\u56de\u4fe1\u606f", "type": "string"}, "data": {"description": "\u8fd4\u56de\u6570\u636e", "type": "object", "$ref": "#/definitions/_LoginDto"}}}, "Result<UserExtraDto>": {"title": "Result<UserExtraDto>", "description": "\u8fd4\u56de\u7528\u6237\u4e0e\u6570\u91cf\u4fe1\u606f", "type": "object", "required": ["code", "message", "data"], "properties": {"code": {"description": "\u8fd4\u56de\u54cd\u5e94\u7801", "type": "integer"}, "message": {"description": "\u8fd4\u56de\u4fe1\u606f", "type": "string"}, "data": {"description": "\u8fd4\u56de\u6570\u636e", "type": "object", "$ref": "#/definitions/_UserAndExtraDto"}}}, "Result<VideoDto>": {"title": "Result<VideoDto>", "description": "\u8fd4\u56de\u89c6\u9891\u4fe1\u606f", "type": "object", "required": ["code", "message", "data"], "properties": {"code": {"description": "\u8fd4\u56de\u54cd\u5e94\u7801", "type": "integer"}, "message": {"description": "\u8fd4\u56de\u4fe1\u606f", "type": "string"}, "data": {"description": "\u8fd4\u56de\u6570\u636e", "type": "object", "$ref": "#/definitions/_VideoDto"}}}, "Result<ImageDto>": {"title": "Result<ImageDto>", "description": "\u8fd4\u56de\u4e0a\u4f20\u56fe\u7247\u4fe1\u606f", "type": "object", "required": ["code", "message", "data"], "properties": {"code": {"description": "\u8fd4\u56de\u54cd\u5e94\u7801", "type": "integer"}, "message": {"description": "\u8fd4\u56de\u4fe1\u606f", "type": "string"}, "data": {"description": "\u8fd4\u56de\u6570\u636e", "type": "object", "$ref": "#/definitions/_ImageDto"}}}, "Page<UserDto>": {"title": "Page<UserDto>", "description": "\u7528\u6237\u5206\u9875\u4fe1\u606f", "type": "object", "required": ["total", "message", "data"], "properties": {"total": {"description": "\u6570\u636e\u603b\u91cf", "type": "integer"}, "message": {"description": "\u5f53\u524d\u9875", "type": "string"}, "data": {"description": "\u8fd4\u56de\u6570\u636e", "type": "array", "items": {"$ref": "#/definitions/_UserDto"}}}}, "Page<VideoDto>": {"title": "Page<VideoDto>", "description": "\u89c6\u9891\u5206\u9875\u4fe1\u606f", "type": "object", "required": ["total", "message", "data"], "properties": {"total": {"description": "\u6570\u636e\u603b\u91cf", "type": "integer"}, "message": {"description": "\u5f53\u524d\u9875", "type": "string"}, "data": {"description": "\u8fd4\u56de\u6570\u636e", "type": "array", "items": {"$ref": "#/definitions/_VideoDto"}}}}, "Result<Page<UserDto>>": {"title": "Result<Page<UserDto>>", "description": "\u8fd4\u56de\u7528\u6237\u5206\u9875\u4fe1\u606f", "type": "object", "required": ["code", "message", "data"], "properties": {"code": {"description": "\u8fd4\u56de\u54cd\u5e94\u7801", "type": "integer"}, "message": {"description": "\u8fd4\u56de\u4fe1\u606f", "type": "string"}, "data": {"description": "\u8fd4\u56de\u6570\u636e", "type": "object", "$ref": "#/definitions/Page<UserDto>"}}}, "Result<Page<VideoDto>>": {"title": "Result<Page<VideoDto>>", "description": "\u8fd4\u56de\u89c6\u9891\u5206\u9875\u4fe1\u606f", "type": "object", "required": ["code", "message", "data"], "properties": {"code": {"description": "\u8fd4\u56de\u54cd\u5e94\u7801", "type": "integer"}, "message": {"description": "\u8fd4\u56de\u4fe1\u606f", "type": "string"}, "data": {"description": "\u8fd4\u56de\u6570\u636e", "type": "object", "$ref": "#/definitions/Page<VideoDto>"}}}, "LoginParam": {"title": "LoginParam", "description": "\u767b\u5f55\u8bf7\u6c42\u53c2\u6570", "type": "object", "required": ["username", "password"], "properties": {"username": {"description": "\u7528\u6237\u540d", "type": "string"}, "password": {"description": "\u5bc6\u7801", "type": "string"}, "expire": {"description": "\u767b\u5f55\u6709\u6548\u671f\uff0c\u9ed8\u8ba4\u4e3a\u4e03\u5929", "type": "integer"}}}, "RegisterParam": {"title": "RegisterParam", "description": "\u6ce8\u518c\u8bf7\u6c42\u53c2\u6570", "type": "object", "required": ["username", "password"], "properties": {"username": {"description": "\u7528\u6237\u540d\uff0c\u957f\u5ea6\u5728 [5, 30] \u4e4b\u95f4", "type": "string"}, "password": {"description": "\u5bc6\u7801\uff0c\u957f\u5ea6\u5728 [8, 30] \u4e4b\u95f4", "type": "string"}}}, "PassParam": {"title": "PassParam", "description": "\u4fee\u6539\u5bc6\u7801\u8bf7\u6c42\u53c2\u6570", "type": "object", "required": ["password"], "properties": {"password": {"description": "\u5bc6\u7801\uff0c\u957f\u5ea6\u5728 [8, 30] \u4e4b\u95f4", "type": "string"}}}, "SubParam": {"title": "SubParam", "description": "\u5173\u6ce8\u8bf7\u6c42\u53c2\u6570", "type": "object", "required": ["to"], "properties": {"to": {"description": "\u7528\u6237id", "type": "integer"}}}, "UserParam": {"title": "UserParam", "description": "\u7528\u6237\u8bf7\u6c42\u53c2\u6570", "type": "object", "required": ["username", "profile", "sex", "birth_time", "phone_number", "avatar_url"], "properties": {"username": {"description": "\u7528\u6237\u540d\uff0c\u957f\u5ea6\u5728 [5, 30] \u4e4b\u95f4", "type": "string"}, "profile": {"description": "\u7528\u6237\u7b80\u4ecb\uff0c\u957f\u5ea6\u5728 [0, 255] \u4e4b\u95f4", "type": "string", "allowEmptyValue": true}, "sex": {"description": "\u7528\u6237\u6027\u522b", "type": "string", "enum": ["male", "female", "unknown"]}, "birth_time": {"description": "\u7528\u6237\u751f\u65e5", "type": "string", "format": "2000-01-01"}, "phone_number": {"description": "\u7528\u6237\u624b\u673a\u53f7\u7801\uff0c\u957f\u5ea6\u4e3a 11\uff0c\u4ec5\u9650\u4e2d\u56fd\u5927\u9646\u624b\u673a\u53f7\u7801", "type": "string"}, "avatar_url": {"description": "\u7528\u6237\u5934\u50cf\u94fe\u63a5", "type": "string"}}}, "VideoParam": {"title": "VideoParam", "description": "\u89c6\u9891\u8bf7\u6c42\u53c2\u6570", "type": "object", "required": ["title", "description", "cover_url", "video_url"], "properties": {"title": {"description": "\u89c6\u9891\u6807\u9898\uff0c\u957f\u5ea6\u5728 [1, 100] \u4e4b\u95f4", "type": "string"}, "description": {"description": "\u89c6\u9891\u7b80\u4ecb\uff0c\u957f\u5ea6\u5728 [0, 255] \u4e4b\u95f4", "type": "string", "allowEmptyValue": true}, "cover_url": {"description": "\u89c6\u9891\u5c01\u9762\u94fe\u63a5", "type": "string"}, "video_url": {"description": "\u89c6\u9891\u8d44\u6e90\u94fe\u63a5", "type": "string"}}}, "Ping": {"title": "Ping", "description": "Ping", "type": "object", "required": ["ping"], "properties": {"ping": {"description": "pong", "type": "string", "default": "pong"}}}}};
        window.ui = SwaggerUIBundle({
            spec: spec,
            dom_id: '#swagger-ui',
            validatorUrl: null,
            deepLinking: true,
            presets: [
                SwaggerUIBundle.presets.apis,
                SwaggerUIStandalonePreset
            ],
            plugins: [
                SwaggerUIBundle.plugins.DownloadUrl
            ],
            layout: "StandaloneLayout"
        });
    }
    </script>
</body>
</html>
